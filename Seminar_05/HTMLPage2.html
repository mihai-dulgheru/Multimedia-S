
<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script type="text/javascript">
        function aplicatie() {
            let canvas = document.querySelector('canvas');
            let W = canvas.width, H = canvas.height;
            let context = canvas.getContext('2d');

            function desenareGrafic(v) {
                let n = v.length;
                let w = W / n;
                let f = 0.9 * H / Math.max.apply(null, v);

                context.font = 'bold 16pt Arial';
                context.textAlign = 'center';
                context.textBaseline = 'middle';

                for (let i = 0; i < n; i++) {
                    let wi = 0.8 * w;
                    let hi = v[i] * f;
                    let xi = 0.1 * w + i * w;
                    let yi = H - hi;

                    context.beginPath();
                    context.rect(xi, yi, wi, hi);
                    context.fillStyle = 'rgba(255, 0, 0, 0.3)';
                    context.fill();
                    context.stroke();

                    context.fillStyle = 'black';
                    context.fillText(v[i].toString(), xi + wi / 2, yi + hi / 2);

                }

                //    context.fillStyle = 'rgba(255, 0, 0, 0.3)';
                //    context.fill();
                //    context.stroke();
            }
            desenareGrafic([10, 8, 4, 9]);
        }
        document.addEventListener('DOMContentLoaded', aplicatie);
    </script>

</head>
<body>
    <canvas width="400" height="250" style="border: 1px solid black"></canvas>
</body>
</html>